#
# This file is part of the CRUDlex package.
#
# (c) Philip Lehmann-BÃ¶hm <philip@philiplb.de>
#
# For the full copyright and license information, please view the LICENSE
# file that was distributed with this source code.
#

services:
    - mysql
language: php
before_script:
    - mysql -e 'CREATE DATABASE crudTest;'
    - composer install --dev --prefer-source
script: vendor/bin/phpunit --coverage-clover=coverage.clover
php:
    - 7.2
    - 7.3
    - 7.4
after_script:
    - wget https://scrutinizer-ci.com/ocular.phar
    - php ocular.phar code-coverage:upload --format=php-clover coverage.clover
